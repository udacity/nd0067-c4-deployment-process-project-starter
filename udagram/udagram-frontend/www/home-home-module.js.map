{"version":3,"sources":["./src/app/feed/feed-item/feed-item.component.html","./src/app/feed/feed-list/feed-list.component.html","./src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.html","./src/app/feed/feed-upload/feed-upload.component.html","./src/app/home/home.page.html","./src/app/feed/feed-item/feed-item.component.scss","./src/app/feed/feed-item/feed-item.component.ts","./src/app/feed/feed-list/feed-list.component.scss","./src/app/feed/feed-list/feed-list.component.ts","./src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.scss","./src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.ts","./src/app/feed/feed-upload/feed-upload.component.scss","./src/app/feed/feed-upload/feed-upload.component.ts","./src/app/feed/feed.module.ts","./src/app/feed/services/feed.provider.service.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["export default \"<ion-card class=\\\"photo-card\\\" *ngIf=\\\"feedItem\\\">\\r\\n  <ion-img [src]=\\\"feedItem.url\\\"></ion-img>\\r\\n  <ion-card-content>\\r\\n    <p>{{feedItem.caption}}</p>\\r\\n  </ion-card-content>\\r\\n</ion-card>\"","export default \"<div class=\\\"feed\\\">\\r\\n  <app-feed-item \\r\\n    *ngFor=\\\"let item of feedItems\\\"\\r\\n    [feedItem]=\\\"item\\\">\\r\\n  </app-feed-item>\\r\\n</div>\"","export default \"<ion-button \\r\\n  color=\\\"primary\\\" \\r\\n  type=\\\"submit\\\"\\r\\n  [disabled]=\\\"!isLoggedIn\\\"\\r\\n  (click)=\\\"presentUploadForm($event)\\\">\\r\\n  Create a New Post\\r\\n</ion-button>\"","export default \"<form [formGroup]=\\\"uploadForm\\\" (submit)=\\\"onSubmit($event)\\\">`\\r\\n    <label>\\r\\n        <input type=\\\"file\\\" (change)=\\\"selectImage($event)\\\" accept=\\\"image/*\\\" style=\\\"display:none\\\"/>\\r\\n        <img *ngIf=\\\"previewDataUrl\\\" [src]=\\\"previewDataUrl\\\" style=\\\"width:50px; height: 50px;\\\" />\\r\\n        <a *ngIf=\\\"!previewDataUrl\\\" ion-button color=\\\"secondary\\\">\\r\\n            Select a Photo\\r\\n        </a>\\r\\n    </label>\\r\\n    <ion-item>\\r\\n        <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Caption</ion-label>\\r\\n        <ion-input type=\\\"text\\\" formControlName=\\\"caption\\\" required></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-button \\r\\n        color=\\\"primary\\\" \\r\\n        type=\\\"submit\\\"\\r\\n        [disabled]=\\\"!uploadForm.valid || !file\\\">\\r\\n        Post\\r\\n      </ion-button>\\r\\n</form>\\r\\n\"","export default \"<ion-content>\\r\\n    <app-feed-upload-button></app-feed-upload-button>\\r\\n    <app-feed-list></app-feed-list>\\r\\n</ion-content>\\r\\n\"","export default \".photo-card {\\n  max-width: 500px;\\n  overflow: hidden;\\n  background: var(--ion-color-primary-contrast);\\n  margin: 30px 0px;\\n}\\n\\n.photo-card ion-img {\\n  max-height: 532px;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmVlZC9mZWVkLWl0ZW0vQzpcXFVzZXJzXFxBaG1lZFxcRGVza3RvcFxcRldELWFkdmFuY2VkdHJhY2stZGVwbG95bWVudC1wcm9qZWN0XFx1ZGFncmFtXFx1ZGFncmFtLWZyb250ZW5kL3NyY1xcYXBwXFxmZWVkXFxmZWVkLWl0ZW1cXGZlZWQtaXRlbS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZmVlZC9mZWVkLWl0ZW0vZmVlZC1pdGVtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLDZDQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvZmVlZC9mZWVkLWl0ZW0vZmVlZC1pdGVtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBob3RvLWNhcmR7XHJcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LWNvbnRyYXN0KTtcclxuICAgIG1hcmdpbjogMzBweCAwcHg7XHJcbiAgfVxyXG5cclxuLnBob3RvLWNhcmQgaW9uLWltZyB7XHJcbiAgbWF4LWhlaWdodDogNTMycHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICBcclxufVxyXG4iLCIucGhvdG8tY2FyZCB7XG4gIG1heC13aWR0aDogNTAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LWNvbnRyYXN0KTtcbiAgbWFyZ2luOiAzMHB4IDBweDtcbn1cblxuLnBob3RvLWNhcmQgaW9uLWltZyB7XG4gIG1heC1oZWlnaHQ6IDUzMnB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn0iXX0= */\"","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\r\nimport { FeedItem } from '../models/feed-item.model';\r\n\r\n@Component({\r\n  selector: 'app-feed-item',\r\n  templateUrl: './feed-item.component.html',\r\n  styleUrls: ['./feed-item.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FeedItemComponent implements OnInit {\r\n  @Input() feedItem: FeedItem;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {}\r\n}\r\n","export default \".feed {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  background: var(--ion-color-light-tint);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmVlZC9mZWVkLWxpc3QvQzpcXFVzZXJzXFxBaG1lZFxcRGVza3RvcFxcRldELWFkdmFuY2VkdHJhY2stZGVwbG95bWVudC1wcm9qZWN0XFx1ZGFncmFtXFx1ZGFncmFtLWZyb250ZW5kL3NyY1xcYXBwXFxmZWVkXFxmZWVkLWxpc3RcXGZlZWQtbGlzdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZmVlZC9mZWVkLWxpc3QvZmVlZC1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLHNCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHVDQUFBO0FDQUoiLCJmaWxlIjoic3JjL2FwcC9mZWVkL2ZlZWQtbGlzdC9mZWVkLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuICAuZmVlZCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtdGludCk7XHJcbiAgfSIsIi5mZWVkIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXRpbnQpO1xufSJdfQ== */\"","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\r\nimport { FeedItem } from '../models/feed-item.model';\r\nimport { FeedProviderService } from '../services/feed.provider.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-feed-list',\r\n  templateUrl: './feed-list.component.html',\r\n  styleUrls: ['./feed-list.component.scss'],\r\n})\r\nexport class FeedListComponent implements OnInit, OnDestroy {\r\n  @Input() feedItems: FeedItem[];\r\n  subscriptions: Subscription[] = [];\r\n  constructor( private feed: FeedProviderService ) { }\r\n\r\n  async ngOnInit() {\r\n    this.subscriptions.push(\r\n      this.feed.currentFeed$.subscribe((items) => {\r\n      this.feedItems = items;\r\n    }));\r\n\r\n    await this.feed.getFeed();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const subscription of this.subscriptions) {\r\n      subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZlZWQvZmVlZC11cGxvYWQvZmVlZC11cGxvYWQtYnV0dG9uL2ZlZWQtdXBsb2FkLWJ1dHRvbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { FeedUploadComponent } from '../feed-upload.component';\r\nimport { AuthService } from 'src/app/auth/services/auth.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-feed-upload-button',\r\n  templateUrl: './feed-upload-button.component.html',\r\n  styleUrls: ['./feed-upload-button.component.scss'],\r\n})\r\nexport class FeedUploadButtonComponent implements OnInit, OnDestroy {\r\n\r\n  isLoggedIn: boolean;\r\n  loginSub: Subscription;\r\n\r\n  constructor(private modalController: ModalController, private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.auth.currentUser$.subscribe((user) => {\r\n      this.isLoggedIn = user !== null;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.loginSub) {\r\n      this.loginSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  async presentUploadForm(ev: any) {\r\n    const modal = await this.modalController.create({\r\n      component: FeedUploadComponent,\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZlZWQvZmVlZC11cGxvYWQvZmVlZC11cGxvYWQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { Validators, FormBuilder, FormGroup, FormControl } from '@angular/forms';\r\nimport { FeedProviderService } from '../services/feed.provider.service';\r\n\r\nimport { LoadingController, ModalController } from '@ionic/angular';\r\n\r\n\r\n@Component({\r\n  selector: 'app-feed-upload',\r\n  templateUrl: './feed-upload.component.html',\r\n  styleUrls: ['./feed-upload.component.scss'],\r\n})\r\nexport class FeedUploadComponent implements OnInit {\r\n  previewDataUrl;\r\n  file: File;\r\n  uploadForm: FormGroup;\r\n\r\n  constructor(\r\n    private feed: FeedProviderService,\r\n    private formBuilder: FormBuilder,\r\n    private loadingController: LoadingController,\r\n    private modalController: ModalController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.uploadForm = this.formBuilder.group({\r\n      caption: new FormControl('', Validators.required)\r\n    });\r\n  }\r\n\r\n  setPreviewDataUrl(file: Blob) {\r\n    const reader  = new FileReader();\r\n    reader.onloadend = () => {\r\n      this.previewDataUrl = reader.result;\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  selectImage(event) {\r\n    const file = event.srcElement.files;\r\n\r\n    if (!file) {\r\n      return;\r\n    }\r\n    this.file = file[0];\r\n    this.setPreviewDataUrl(this.file);\r\n\r\n  }\r\n\r\n  onSubmit($event) {\r\n    $event.preventDefault();\r\n    this.loadingController.create();\r\n\r\n    if (!this.uploadForm.valid || !this.file) { return; }\r\n    this.feed.uploadFeedItem(this.uploadForm.controls.caption.value, this.file)\r\n      .then((result) => {\r\n        this.modalController.dismiss();\r\n        this.loadingController.dismiss();\r\n      });\r\n  }\r\n\r\n  cancel() {\r\n    this.modalController.dismiss();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FeedListComponent } from './feed-list/feed-list.component';\r\nimport { FeedItemComponent } from './feed-item/feed-item.component';\r\nimport { FeedUploadComponent } from './feed-upload/feed-upload.component';\r\nimport { FeedUploadButtonComponent } from './feed-upload/feed-upload-button/feed-upload-button.component';\r\n\r\nimport { FeedProviderService } from './services/feed.provider.service';\r\n\r\nconst entryComponents = [FeedUploadComponent];\r\nconst components = [FeedListComponent, FeedItemComponent, FeedUploadComponent, FeedUploadButtonComponent];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: components,\r\n  exports: components,\r\n  entryComponents: entryComponents,\r\n  providers: [FeedProviderService]\r\n})\r\nexport class FeedModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { FeedItem, feedItemMocks } from '../models/feed-item.model';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { ApiService } from '../../api/api.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FeedProviderService {\r\n  currentFeed$: BehaviorSubject<FeedItem[]> = new BehaviorSubject<FeedItem[]>(\r\n    []\r\n  );\r\n\r\n  constructor(private api: ApiService) {}\r\n\r\n  async getFeed(): Promise<BehaviorSubject<FeedItem[]>> {\r\n    const req = await this.api.get('/feed');\r\n    const items = <FeedItem[]>req.rows;\r\n    this.currentFeed$.next(items);\r\n    return Promise.resolve(this.currentFeed$);\r\n  }\r\n\r\n  async uploadFeedItem(caption: string, file: File): Promise<any> {\r\n    const res = await this.api.upload('/feed', file, {\r\n      caption: caption,\r\n      url: file.name,\r\n    });\r\n    const feed = [res, ...this.currentFeed$.value];\r\n    this.currentFeed$.next(feed);\r\n    return res;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FeedModule } from '../feed/feed.module';\r\nimport { HomePage } from './home.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    FeedModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: HomePage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage {\r\n  appName = environment.appName;\r\n}\r\n"],"sourceRoot":"webpack:///"}